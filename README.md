# МедКарта - Система управления медицинскими картами пациентов

## Описание проекта

Мобильное приложение для управления медицинскими картами пациентов с облачным хранением данных, разработанное в соответствии с требованиями:

- **152-ФЗ** "О персональных данных"
- **HIPAA** стандарты защиты медицинской информации
- Требования к хранению и передаче медицинской информации

## Функциональность

### 1. Безопасность данных
- ✅ Шифрование персональных данных (AES-256-GCM)
- ✅ Многофакторная аутентификация
- ✅ Биометрическая аутентификация (отпечаток пальца, Face ID)
- ✅ Ролевой доступ к данным
- ✅ Журнал аудита всех операций

### 2. Работа с медицинскими картами
- ✅ Создание электронных медицинских карт
- ✅ История заболеваний и анализов
- ✅ Проектирование базы данных для хранения диагнозов, назначений, результатов обследований
- ✅ Поиск пациентов по ФИО, телефону, номеру полиса
- ✅ Безопасный доступ для пациентов и медицинских учреждений

### 3. Технологический стек
- **Язык**: Kotlin
- **UI**: Material Design 3
- **Архитектура**: MVVM
- **База данных**: Firebase Firestore (облачное хранилище)
- **Аутентификация**: Firebase Authentication
- **Шифрование**: Android Keystore, AES-256
- **Биометрия**: Android BiometricPrompt API

## Структура проекта

```
com.medcard.system/
├── model/              # Модели данных
│   ├── Patient.kt
│   ├── User.kt
│   ├── AuditLog.kt
│   └── MedicalRecord.kt
├── repository/         # Слой данных
│   ├── PatientRepository.kt
│   └── AuthRepository.kt
├── viewmodel/          # Бизнес-логика
│   ├── PatientViewModel.kt
│   └── AuthViewModel.kt
├── ui/                 # Пользовательский интерфейс
│   ├── LoginActivity.kt
│   ├── MainActivity.kt
│   ├── PatientDetailActivity.kt
│   └── adapter/
│       └── PatientAdapter.kt
├── security/           # Безопасность
│   ├── EncryptionManager.kt
│   └── BiometricAuthManager.kt
└── utils/              # Утилиты
```

## Установка и настройка

### 1. Требования
- Android Studio Arctic Fox или новее
- Android SDK 24+
- JDK 8 или новее

### 2. Настройка Firebase

1. Создайте проект в [Firebase Console](https://console.firebase.google.com/)
2. Добавьте Android приложение с package name: `com.medcard.system`
3. Скачайте файл `google-services.json`
4. Замените файл `app/google-services.json` на скачанный
5. Включите следующие сервисы:
   - Authentication (Email/Password)
   - Cloud Firestore
   - Cloud Storage

### 3. Настройка Firestore Security Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /patients/{patientId} {
      allow read, write: if request.auth != null;
    }
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth.uid == userId;
    }
    match /audit_logs/{logId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
  }
}
```

### 4. Запуск проекта

1. Откройте проект в Android Studio
2. Синхронизируйте Gradle файлы
3. Подключите Android устройство или запустите эмулятор
4. Нажмите Run

## Использование

### Первый запуск

1. При первом запуске откроется экран входа
2. Для тестирования создайте учетную запись в Firebase Console
3. Войдите используя email и пароль
4. При наличии биометрии, можно настроить вход по отпечатку

### Работа с пациентами

1. Нажмите кнопку "+" для добавления нового пациента
2. Заполните обязательные поля
3. Данные автоматически шифруются и сохраняются в облаке
4. Используйте поиск для быстрого поиска пациентов
5. Все действия логируются в журнале аудита

## Безопасность

### Шифрование данных
- Персональные данные шифруются с использованием AES-256-GCM
- Ключи хранятся в Android Keystore
- Невозможно экспортировать ключи из устройства

### Аутентификация
- Двухфакторная аутентификация (пароль + биометрия)
- Токены сессии автоматически обновляются
- Автоматический выход при неактивности

### Журнал аудита
- Все операции записываются с временной меткой
- Фиксируется пользователь и тип операции
- Логи защищены от модификации

## Соответствие требованиям

### 152-ФЗ
- ✅ Шифрование персональных данных
- ✅ Контроль доступа
- ✅ Журналирование операций
- ✅ Согласие на обработку данных

### HIPAA
- ✅ Защита электронной медицинской информации
- ✅ Аудит доступа к данным
- ✅ Шифрование при передаче и хранении
- ✅ Контроль прав доступа

## Лицензия

Этот проект создан в образовательных целях в рамках дипломной работы.

## Автор

Дипломный проект по теме: "Система управления медицинскими картами пациентов с облачным хранением"

## Поддержка

При возникновении вопросов или проблем, создайте issue в репозитории проекта.
